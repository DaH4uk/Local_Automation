<html>
<head>
    <title></title>
    <script type="text/javascript">
        var st = "ws://" + window.location.host + "/websocket";
        console.log(st);
        var socket = new WebSocket("ws://" + location.host + "/websocket");

        socket.onopen = function () {
            console.log("Соединение установлено.");
        };

        socket.onclose = function (event) {
            if (event.wasClean) {
                console.log('Соединение закрыто');
            } else {
                console.log('Обрыв соединения');
            }
            console.log('Код: ' + event.code + ' причина: ' + event.reason);
        };
        socket.onmessage = function (event) {
            var logarea = document.getElementById("log");
            logarea.value = event.data;
        };
        socket.onerror = function (error) {
            console.log("Ошибка " + error.message);
        };

        function send() {
            var s = document.getElementById("in").value;
            socket.send(s);
        }

    </script>
</head>
<body>
<input type="text" id="in"/><input type="button" onclick="send()" value="send"/>
<br/>
<textarea id="log" rows="8" cols="20">
</textarea>
</body>
</html>